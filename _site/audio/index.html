<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>audio</title>
    <meta name="description" content="Personal website of Designer Han Feng
">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TYPEKIT -->
    <script src="https://use.typekit.net/nyt2bol.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Michroma" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.hanfeng.com//audio/">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">

    <!-- <link rel="stylesheet" href="tachyons/css/tachyons.min.css"> -->

    <!-- <script src="/p5/p5.js"></script> -->
    <!-- <script src="/p5/addons/p5.dom.js"></script> -->
    <!-- <script src="p5/p5-1.js"></script> -->
    <script src="/stars.js"></script>

    <link rel="stylesheet" href="/css/timeline.css">
    <link rel="stylesheet" href="/css/deeper.css">
    <link rel="stylesheet" href="/css/stars.css">

    

    
</head>


  <body class="bg-gray">

    <header class="max-width-l float-center cf pad-x-s">
  <div class="">
    <div class="float-left pad-x-s pad-y-l">
      <div class="red">
        <a class="" href="/">Han Feng</a> / <a href="/portfolio/"><span class="red">portfolio</span></a>
      </div>
    </div>
    <nav class="float-right pad-x-s pad-y-l">
      <div class="">
          <a class="border-bottom-s" href="mailto:design@hanfeng.com">contact</a>
      </div>
    </nav>
  </div>
</header>



    <div class="">
      <head>
  <script language="javascript" type="text/javascript" src="../p5/p5.js"></script>

  <script language="javascript" type="text/javascript" src="../p5/addons/p5.dom.js"></script>

  <script language="javascript" type="text/javascript" src="../p5/p5.sound.js"></script>
<!--
  <script language="javascript" type="text/javascript" src="sketch.js"></script> -->

</head>

<!-- /**
 *  DEMO
 *  - change playback rate of a soundfile based on mouseX position
 *  - a negative playback rate will reverse the soundfile, but won't
 *  preserve current location of the playhead.
 */ -->


<!-- <script type="text/javascript">

var soundFile;
var p;

function preload() {
  soundFormats('mp3', 'ogg');
  soundFile = loadSound('/files/enjoymyvoice');
}

function setup() {
  soundFile.loop(0);
  p = createP();
}

function draw() {
  background(1200);

  // map playback rate of a sound file to mouseX position
  var newRate = (map(mouseX, 0, 1200, -1, 1));
  // newRate = constrain(newRate, 0.1, 1.5);
  soundFile.rate(newRate);
  p.html( 'Playback Rate: ' + newRate.toFixed(3) )

  // Set the volume to a range between 0 and 1.0
  var volume = map(mouseX, 0, width, 0, 1);
  volume = constrain(volume, 0, .7);
  soundFile.amp(volume);

  // Set the rate to a range between 0.1 and 4
  // Changing the rate alters the pitch
  var speed = map(mouseY, 0.1, height, 0, 2);
  speed = constrain(speed, 0.01, 3);
  soundFile.rate(speed);

  // Draw some circles to show what is going on
  stroke(0);
  fill(51, 100);
  ellipse(mouseX, 100, 48, 48);
  stroke(0);
  fill(51, 100);
  ellipse(100, mouseY, 48, 48);
}

function keyPressed() {
  var key = keyCode;
  // Spacebar: pause
  if (key == 32) {
    soundFile.pause();
  }
}

</script> -->

<script type="text/javascript">

var voice, beat, delay;
var rSlider, gSlider, bSlider;

function preload() {
  soundFormats('mp3', 'ogg');
  voice = loadSound('/files/enjoymyvoice');
  beat = loadSound('/files/enjoymybeat');
}

function setup() {
  createCanvas(710, 400);
  textSize(15);
  noStroke();

  // Loop the sound forever
  // (well, at least until stop() is called)
  voice.loop();
  beat.loop();

  delay = new p5.Delay();
  delay.process(voice, .5, .2, 2300);
  delay.setType('pingPong'); // a stereo effect

  // create sliders
  speedSlider = createSlider(0, 4, 0);
  speedSlider.position(20, 20);
  gSlider = createSlider(0, 255, 0);
  gSlider.position(20, 50);
  bSlider = createSlider(0, 255, 255);
  bSlider.position(20, 80);
}

function draw() {
  background(200);

  // Set the volume to a range between 0 and 1.0
  var volume = map(mouseX, 0, width, 0, 1);
  volume = constrain(volume, 0, .7);
  beat.amp(volume);

  // Set the rate to a range between 0.1 and 4
  // Changing the rate alters the pitch
  var speed = speedSlider.value();
  var g = gSlider.value();
  var b = bSlider.value();
  // var speed = map(mouseY, 0.1, height, 0, 2);
  speed = constrain(speed, 0.01, 4);
  voice.rate(speed);

  // Draw some circles to show what is going on
  stroke(0);
  fill(51, 100);
  ellipse(mouseX, 100, 48, 48);
  stroke(0);
  fill(51, 100);
  ellipse(100, mouseY, 48, 48);


  // background(r, g, b);
  // text("red", 165, 35);
  // text("green", 165, 65);
  // text("blue", 165, 95);
}

function keyPressed() {
  var key = keyCode;
  // Spacebar: pause
  if (key == 32) {
    beat.pause();
  }
}


</script>

    </div>

    <footer class="max-width-l float-center cf pad-x-s">
  <div class="">
    <nav class="float-left pad-x-s pad-y-l">
      <a class="border-bottom-s" href="mailto:design@hanfeng.com">hello@spenhar.com</a>
    </nav>
  </div>
</footer>


  </body>

</html>
